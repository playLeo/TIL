브라우저에 www.naver.com 을 입력하면 일어나는 일

1. 브라우저가 URL에 적힌 값을 파싱해서 HTTP Request Message를 만들고 OS에 전송 요청(OS마다 다르다는데 어떤점이 다른지 알아보자)
2. DNS Lookup
3. DNS 하기전 ? hosts 파일 찾고, DNS cache 찾고 없으면 DNS에 질의
4. 루트 도메인 서버부터 서브 도메인 서버순으로 찾게된다.
5. ip를 얻어서 HTTP 통신을 하기위해 서버와 TCP 연결

### CDN + GSLB (akamaiedge -> 유명한 CDN회사, KT, Amazon CloudFront)

CDN(Contents Delivery Network) - 지리적, 물리적으로 떨어져 있는 사용자에게 컨텐츠를 더 빠르게 제공할 수 있는 기술

1. 글로벌 범위안에서 장거리 웹 사이트 로딩 속도 개선 -> 빠른 서비스 가능
2. 캐시서버를 분산해서 한개의 서버가 죽더라도 다른 서버에서 대응 가능(RR)-> 안정적 서비스 가능
3. 특정 국가 상대로는 CDN이 필요없고 글로벌로 사용하기 위해서는 Cache Server를 많이 보유하고 있어야 하는 문제가 있다.

CDN이 로그인 상태에서 다른 서버로 보낸다면 세션로그인인 경우 로그인 유지는 어떻게 ? / 많은 이미지 퍼징?

CDN 작동원리

1. 최조 요청은 서버로 부터 컨텐츠를 가져와 고객에게 전송하며 동시에 CDN 캐싱장비에 저장
2. 두 번째 이후 모든 요청은 CDN 업체에서 지정하는 해당 컨텐츠 만료 시점까지 CDN 캐싱장비에서 컨텐츠 전송
3. 자주사용하는 페이지에 한에서 CDN 장비에서 캐싱이 되며, 해당 컨텐츠 호출이 없는 경우 주기적으로 삭제된다
4. 서버가 파일을 찾는 데 실패하는 경우 CDN 플랫폼의 다른 서버에서 콘텐츠를 찾아 엔드유저에게 응답한다.
5. 콘텐츠를 사용할 수 없거나 콘텐츠가 오래된 경우, CDN은 서버에 대한 요청을 프록시로 작동하여 향후 요청을 응답할 수 있도록 새로운 컨텐츠를 저장한다.



GSLB(Global server Load Balancing)

사용자의 요청을 받았을 때, 물리적으로 가장 가깝거나 여유 트래픽이 남아 있는 곳으로 접속을 유도하는 기술

1. 서버의 상태를 알 수 있어서 정상으로 작동하는 서버를 찾아낸다 -> Health Check
2. RR방식은 동일하나 서버의 트래픽을 분석하고 접근한다. -> 더 빠른 로딩 보장
